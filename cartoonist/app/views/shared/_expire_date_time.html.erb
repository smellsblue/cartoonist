<%

  if expirable && expirable.kind_of?(Postable)
    posted = expirable.posted?
  else
    posted = true
  end

  submit_disabled_attr = expirable && (expirable.locked? || expirable.expired? || !posted)

%>
<%= partial "shared/date_time_entry", :time => (expirable.expired_at if expirable),
                                      :disabled => (expirable && expirable.locked?),
                                      :name => "expired" do %>
  <input type="submit" name="expire_now" value="Expire Now" <%= submit_disabled_attr %> />
  <input type="submit" name="expire_in_hour" value="Expire in an Hour" <%= submit_disabled_attr %> />
<% end %>
